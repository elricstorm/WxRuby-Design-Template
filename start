require 'wx'                                                    # Require our GUI library
require 'pp'                                                    # Require Pretty Print
require File.join(File.dirname(__FILE__),"lib","constants")     # Require our constants
require File.join(File.dirname(__FILE__),"lib","globals")       # Require our globals
require File.join(File.dirname(__FILE__),"lib","wxhelper")      # Requires a helper file that can be used for helper methods
WxHelper.include_ui                                             # Helper Requires all rb files in our ui directory
WxHelper.setup_init
require File.join(File.dirname(__FILE__),"lib","main")          # Require our main program
require File.join(File.dirname(__FILE__),"lib","modules")       # Require our module extensions

# Begin initialization of the App
class WXTemplate < Wx::App
  def on_init
    gui_main = GuiMain.new()

    # Adding a Timer to Pass Threads
    t = Wx::Timer.new(self, 55)
    evt_timer(55) { Thread.pass }
    t.start(20)

    gui_main.show
  end
end

WXTemplate.new.main_loop                                        # Start our Gui